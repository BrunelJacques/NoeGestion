<div class="card-container">
  <div class="card">
    <div class="col">
      <h3 class=" card-header">Initialiser mon accès</h3>
      <div class="card-body short text-center text-muted small">
        <div>
          Pour créer un compte ou réinitialiser un mot de passe
        </div>
        <div class="form-group "></div>  
      </div>
    </div>
    <form [formGroup]="form"  
        class="form-group short" 
        (ngSubmit)="onSubmit()">
      <div class="form-group">
          <label for="firstName">Prénom</label>
          <input type="text" formControlName="firstName" id="firstName"
              class="form-control" 
              [ngClass]="{ 'is-invalid': submitted && f['firstName'].errors }" />
          <div *ngIf="submitted && f['firstName'].errors" class="invalid-feedback">
              <div *ngIf="f['firstName'].errors['required']">
                Le prénom est obligatoire
              </div>
          </div>
      </div>
      <div class="form-group">
          <label for="lastName">Nom</label>
          <input type="text" formControlName="lastName" id="lastName"
              class="form-control" 
              [ngClass]="{ 'is-invalid': submitted && f['lastName'].errors }" />
          <div *ngIf="submitted && f['lastName'].errors" class="invalid-feedback">
              <div *ngIf="f['lastName'].errors['required']">Le nom est obligatoire</div>
          </div>
      </div>
      <div class="form-group">
          <label for="email">Adresse mail</label>
          <input type="text" formControlName="email" id="email" 
            class="form-control" [ngClass]="{ 'is-invalid': submitted && f['email'].errors }" />
          <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
              <div *ngIf="f['email'].errors['required']">L'adresse mail est obligatoire</div>
          </div>
      </div>
      <div class="text-center text-muted small short mb-o">
          L'initialisation n'est possible que pour des références connues de Matthania
      </div>
      <div class="form-group">
          <label for="password">Mot de passe</label>
          <div class="small10">
            6 caractères dont majuscule, minuscule chiffre et spécial
          </div>
          <input type="password" formControlName="password" class="form-control" id="password"
              [ngClass]="{ 'is-invalid': f['password'].errors }" />
          <div *ngIf="f['password'].errors?.['required'] && form.controls['password'].touched" class="invalid-feedback">
              <div *ngIf="f['password'].errors?.['required']">Le mot de passe est obligatoire</div>
              <div *ngIf="f['password'].errors?.['minlength']">le mot de passe doit avoir 6 caractères minimum</div>
          </div>
      </div>
    </form>

    <button mat-flat-button color="primary" 
    type="submit"
    [disabled]="loading || !valid"
    aria-label="Confirm"
    (click)="onSubmit()">  
      <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
      Demande
    </button>
    <button mat-flat-button class="fond-soutenu m-3">
        <a routerLink="../login">Retour</a>
    </button>
  </div>
</div>
 